<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Demonstrating Rupp's Framework • wizirt</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Demonstrating Rupp's Framework">
<meta property="og:description" content="wizirt">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wizirt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/complete_vignette.html">wizirt Overview</a>
    </li>
    <li>
      <a href="../articles/deayala_vignette.html">Vignette Based on De Ayala, 2009</a>
    </li>
    <li>
      <a href="../articles/rupp_vignette.html">Demonstrating Rupp's Framework</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rupp_vignette_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="rupp_vignette_files/core-js-2.5.3/shim.min.js"></script><script src="rupp_vignette_files/react-16.12.0/react.min.js"></script><script src="rupp_vignette_files/react-16.12.0/react-dom.min.js"></script><script src="rupp_vignette_files/reactwidget-1.0.0/react-tools.js"></script><script src="rupp_vignette_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="rupp_vignette_files/reactable-binding-0.2.3/reactable.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Demonstrating Rupp’s Framework</h1>
                        <h4 class="author">Isaac Pfleger</h4>
            
            <h4 class="date">11/2/2020</h4>
      
      
      <div class="hidden name"><code>rupp_vignette.Rmd</code></div>

    </div>

    
    
<p>Rupp (2013) created a framework to assist researchers in identifying and handling person-misfit in item response theory (IRT). Rupp’s framework consists of five steps,</p>
<ol style="list-style-type: lower-alpha">
<li><p>statistical detection using local and global fit measures (either parametric or nonparametric),</p></li>
<li><p>numerical tabulation, or summarization of the incidence of each type of aberrant response pattern,</p></li>
<li><p>graphical exploration such as person response functions (PRFs),</p></li>
<li><p>quantitative explanation using additional modeling, and</p></li>
<li><p>qualitative explanation.</p></li>
</ol>
<p>The wizirt package is designed to facilitate the wider spread use of this framework in Psychometric research. With this end in mind, this vignette walks through the use of wizirt for PFA as desccribed by Rupp (2013).</p>
<p>First, users need to load wizirt.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">wizirt</span>)
</pre></div>
<p>The data used in this example are not publicly available, but a practice data set is available in wizirt.</p>
<p>After loading wizirt, users can run a model with the wizirt function</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">wizirt_fit</span> <span class="op">&lt;-</span> <span class="kw">wizirt</span>::<span class="fu"><a href="../reference/wizirt.html">wizirt</a></span>(data = <span class="kw">responses</span>, item_type = <span class="st">"Rasch"</span>)
</pre></div>
<p>Here I specify my data and I designate the model as a Rasch model. The first step of Rupp’s framework asks for global and local person-fit statistics. At this time, wizirt does not calculate local person-fit, but global fit statisics can be calculated using the irt_person_fit() function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">pfa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/irt_person_fit.html">irt_person_fit</a></span>(<span class="kw">wizirt_fit</span>, stats = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Ht"</span>)) 
</pre></div>
<p>These fit statistics, as well as the person abilities and the response patterns (step 2) can be displayed using the print() function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw">pfa</span>, patterns = <span class="kw">T</span>, item_order = <span class="st">"by_diff"</span>) <span class="op">%&gt;%</span> 
  <span class="kw">dplyr</span>::<span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span>(<span class="kw">dplyr</span>::<span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/across.html">across</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw">ability</span>, <span class="kw">std_err</span>, <span class="kw">Ht</span>, <span class="kw">Ht_cut</span>), .fns = <span class="kw">round</span>, <span class="fl">2</span>)) <span class="op">%&gt;%</span> 
  <span class="kw">reactable</span>::<span class="fu"><a href="https://rdrr.io/pkg/reactable/man/reactable.html">reactable</a></span>()
</pre></div>
<div id="htmlwidget-815b165c703ab63e5a62" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-815b165c703ab63e5a62">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"ability":[-0.22,-0.33,-0.36,-0.15,-0.15,-0.08,-0.22,-0.08,-0.05,0.23,0.06,-0.29,0.06,-0.05,-0.08,-0.15,0.13,0.16,0.02,-0.01,-0.01,0.09,0.02,-0.01,-0.08,0.09,0.13,0.3,0.06,0.09,0.09,0.02,0.09,-0.08,-0.15,-0.08,0.16,0.16,-0.01,0.23,0.06,-0.08,0.06,-0.01,-0.12,-0.08,0.06,0.06,0.2,0.23],"std_err":[0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19,0.19],"ids":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"Ht":[0.08,0.02,0.2,0.23,0.12,0.15,0.08,0.18,0.12,0.15,0.05,0.2,0.16,0.11,0.07,0.12,0.17,0.16,0.22,0.01,0.17,0.09,0.03,0.18,0.12,0.08,0.12,0.23,0.17,0.13,0.13,0.1,0.19,0.04,0.05,0.16,0.22,0.1,0.08,0.2,0.14,0.09,0.17,0.2,0.12,0.15,0.18,0.06,0.04,0.18],"Ht_cut":[0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06,0.06],"flagged":[false,true,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,true,false,false,true,false,false,false,false,false,false,false,false,false,false,true,true,false,false,false,false,false,false,false,false,false,false,false,false,false,true,false],"pattern":["11010100011000011001100100000100010100110000000001","00011100100100110010000000000010001000001011100000","11010000110101110010000000100000010000000100000000","11111111000101001011101101001000000000000010000000","11100101100100100100001111011001000011010000000000","10111111110010000010011001001110110000011000000000","01110100000011100101000011101000001100010001000000","11111010110111011001000100101001000101000100000000","10111110101101011000110001100001101010000100000010","11111111101111010101011111100010000010001101110100","01111111000011110110001110000011100001100001100011","11001000001101111001100100111000000000000000000000","11111101011101101100111010010001010010100010001000","11010011100001101100110111001110011001000000001000","10011101001101010110010000101100010100011011000000","11100100100001011110010110100100010110000100000000","11011110111011111001011100011110001010100110000000","11111010111111001101011010111001110001101000000001","11110011111011101111001010010111110000000000000000","01101100100010100110111000001111010100111001000010","10100111111101011011101110101000100000001100000000","10011011111110101010100111010011100100100000111000","01111000010010101011010111110001110001001010001100","11010110111001111100111110100000010110100000000000","10100111110101011010011001010110000000010000100100","01001111100011011110110011110100101010110110000000","10111111011111101001111000000110010010010111001000","01111111111111111010111111011000110101011000001000","10011111111010110110111100000111001111000000000000","11101101111000011011001111100111100000100111000000","10111011010110011101111010011110001001110000010000","11110011011111010101000010101011100000000100110100","11111111011011011111010101011000001000001000100010","01101010001001011101000100110101011000101010100000","10001110000100110110100100100100101101010000001000","01111101011110101010100001100110101000000000010000","11111111111110101101011100111000010010010001010000","11111101011001100111111001011010001011000100101100","10111001011110010001001110110001010101001000010100","11111111110110111101101001111000111110000001000001","11011110111010111011000101100110000011100100010000","11110010101100000100110001110101101100001000001000","11100111110111101110101000110011001001110000000000","11111111110011100011100011001000100101000000010000","01001011101110101101100011000010110000100000000100","10111001111101110011101010000000000100001010010000","11101110011111110110110101010001010010010010000000","11100111101110100111010010000110101010000001000111","11100001111011010101011111011101000111100011100010","11111011111110000011111011011111101101001000100000"]},"columns":[{"accessor":"ability","name":"ability","type":"numeric"},{"accessor":"std_err","name":"std_err","type":"numeric"},{"accessor":"ids","name":"ids","type":"numeric"},{"accessor":"Ht","name":"Ht","type":"numeric"},{"accessor":"Ht_cut","name":"Ht_cut","type":"numeric"},{"accessor":"flagged","name":"flagged","type":"logical"},{"accessor":"pattern","name":"pattern","type":"character"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"000dc1190e646b9bd1ecd688b6943143","key":"000dc1190e646b9bd1ecd688b6943143"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script><p>By specifying the item order as “by_diff” the responses patterns are now ordered by the difficulty of the item.</p>
<p>Rupp’s step 3 asks for person-fit to be explored graphically. The nonparametric person response function is used for this in wizirt.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span>(<span class="kw">wizirt_fit</span>, type = <span class="st">"np_prf"</span>)
</pre></div>
<p><img src="rupp_vignette_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>Rupp’s step four instructs researchers to try to explain reasons for person misfit. This is done with the irt_model_pfa() function, which allows for the inclusion of predictors.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/irt_model_pfa.html">irt_model_pfa</a></span>(<span class="kw">wizirt_fit</span>, <span class="kw">pfa</span>, bins = <span class="fl">10</span>, predictors = <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(<span class="kw">data</span>[<span class="fl">1</span><span class="op">:</span><span class="fl">50</span> ,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"School"</span>, <span class="st">"center"</span>)], <span class="kw">scale</span>) )

<span class="kw">mod</span><span class="op">$</span><span class="kw">icc</span>
</pre></div>
<pre><code>##                 Ht        
## ICC_adjusted    0.05162003
## ICC_conditional 0.05098615</code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="kw">mod</span><span class="op">$</span><span class="kw">models</span><span class="op">$</span><span class="kw">Ht</span>)
</pre></div>
<pre><code>## Cov prior  : ids ~ wishart(df = 3.5, scale = Inf, posterior.scale = cov, common.scale = TRUE)
## Prior dev  : 4.3663
## 
## Linear mixed model fit by REML ['blmerMod']
## Formula: Ht ~ (1 | ids) + .
##    Data: mlm_data
## 
## REML criterion at convergence: 119.6
## 
## Scaled residuals: 
##      Min       1Q   Median       3Q      Max 
## -2.85774 -0.71649  0.03532  0.64954  2.49714 
## 
## Random effects:
##  Groups   Name        Variance Std.Dev.
##  ids      (Intercept) 0.003619 0.06016 
##  Residual             0.066498 0.25787 
## Number of obs: 481, groups:  ids, 50
## 
## Fixed effects:
##               Estimate Std. Error t value
## (Intercept)  0.1386853  0.0414454   3.346
## ids         -0.0002742  0.0012367  -0.222
## ability      0.1547125  0.1169090   1.323
## bin          0.0064304  0.0040928   1.571
## School      -0.0064841  0.0155816  -0.416
## center      -0.0061352  0.0148359  -0.414
## 
## Correlation of Fixed Effects:
##         (Intr) ids    abilty bin    School
## ids     -0.764                            
## ability  0.389 -0.507                     
## bin     -0.543  0.001 -0.009              
## School   0.250 -0.330  0.171  0.004       
## center   0.109 -0.137  0.050 -0.003  0.006</code></pre>
<p>These first four steps should be used in conjunction with a qualitative explanation step, something that cannot be done in wizirt.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Isaac Pfleger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
